<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>WordMixer Challenge</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-sky-950 via-slate-900 to-cyan-900 min-h-screen flex flex-col items-center justify-center px-2 py-6">

  <h1 class="text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-400 mb-2 text-center drop-shadow-lg select-none">WordMixer Challenge</h1>
  <div class="text-base text-blue-100 opacity-90 mb-6 text-center max-w-xl select-none">
    Unscramble the letters to find the correct English word!<br />
    You have <span class="font-bold text-cyan-300">15 seconds</span> per word and <span class="font-bold text-cyan-300">3 attempts</span>. Use hint if needed!
  </div>
  <div class="bg-slate-900/80 border border-cyan-700 rounded-2xl shadow-2xl p-8 w-full max-w-md flex flex-col items-center">
    <div id="scrambled" class="text-3xl font-extrabold tracking-widest text-cyan-300 mb-6 select-none">Loading...</div>
    <input type="text" id="guess" placeholder="Your guess..." class="w-full bg-slate-800 text-white text-lg rounded-lg px-4 py-3 mb-2 outline-none border border-cyan-700 focus:border-cyan-400 transition" autocomplete="off" />
    <div class="flex w-full gap-3 mt-2 mb-4">
      <button onclick="checkGuess()" class="flex-1 bg-cyan-700 hover:bg-cyan-800 text-white font-semibold rounded-lg py-2 transition">Submit</button>
      <button onclick="showHint()" class="flex-1 bg-blue-700 hover:bg-blue-800 text-white font-semibold rounded-lg py-2 transition">Show Hint</button>
      <button onclick="showSolution()" class="flex-1 bg-pink-600 hover:bg-pink-700 text-white font-semibold rounded-lg py-2 transition">Show Solution</button>
    </div>
    <div class="flex flex-col w-full gap-1 mb-2">
      <div class="text-base text-cyan-200 min-h-[1.5em]" id="feedback"></div>
      <div class="flex justify-between text-sm text-blue-200">
        <span id="timer">Time: 0</span>
        <span id="attempts">Attempts left: 3</span>
        <span id="score">Score: 0 ‚≠ê</span>
      </div>
    </div>
    <div class="flex w-full gap-3 mt-2">
      <select id="category" onchange="setCategory(this.value)" class="flex-1 bg-slate-800 text-cyan-200 rounded-lg px-3 py-2 border border-cyan-700 focus:border-cyan-400 transition">
        <option value="animals">Animals</option>
        <option value="tech">Tech</option>
        <option value="food">Food</option>
        <option value="random">Random</option>
      </select>
      <select id="difficulty" onchange="setDifficulty(this.value)" class="flex-1 bg-slate-800 text-cyan-200 rounded-lg px-3 py-2 border border-cyan-700 focus:border-cyan-400 transition">
        <option value="easy">Easy</option>
        <option value="medium">Medium</option>
        <option value="hard">Hard</option>
      </select>
    </div>
    <div class="mt-4 text-xs text-blue-300 opacity-80" id="legend" style="display:none;">
      Hint: First and last letter will be <span class="text-pink-400 font-bold">highlighted</span>.
    </div>
  </div>

  <audio id="correctSound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_7c9e1c2df1.mp3?filename=correct-2-46134.mp3"></audio>
  <audio id="wrongSound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_b4f81cf502.mp3?filename=wrong-2-46133.mp3"></audio>
  <audio id="timeoutSound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_c9f6d6584f.mp3?filename=game-over-2-16072.mp3"></audio>

  <script>
    const wordPools = {
      easy: {
        animals: [
          "cat", "dog", "ant", "cow", "bat", "pig", "fox", "bee", "rat", "owl",
          "hen", "eel", "ape", "fly", "yak", "elk", "ram", "hog", "jay", "cub"
        ],
        tech: [
          "app", "bot", "ram", "usb", "cpu", "web", "led", "ai", "bug", "bit",
          "dns", "gui", "api", "cpu", "ftp", "lan", "ssl", "url", "vpn", "xml"
        ],
        food: [
          "egg", "tea", "jam", "pie", "bun", "oil", "ice", "pea", "ham", "nut",
          "fig", "soy", "ale", "yam", "syrup", "corn", "milk", "beef", "fish", "rice"
        ],
        random: [
          "sun", "sky", "box", "car", "map", "hat", "pen", "bag", "key", "bed",
          "web", "fan", "cup", "jar", "toy", "rat", "wax", "lid", "gum", "axe"
        ]
      },
      medium: {
        animals: [
          "tiger", "zebra", "horse", "koala", "lemur", "shark", "whale", "rhino", "camel", "mouse",
          "otter", "panda", "eagle", "llama", "sloth", "viper", "crow", "hyena", "jelly", "moth"
        ],
        tech: [
          "mouse", "laptop", "wifi", "token", "cache", "proxy", "email", "debug", "phone", "cloud",
          "virus", "array", "pixel", "pixel", "batch", "codec", "drive", "logic", "script", "robot"
        ],
        food: [
          "cheese", "tomato", "salami", "biscuit", "cookie", "orange", "banana", "carrot", "onion", "pepper",
          "lettuce", "butter", "almond", "garlic", "spinach", "avocado", "cabbage", "radish", "ginger", "quinoa"
        ],
        random: [
          "apple", "space", "river", "storm", "magic", "night", "dream", "crown", "plant", "giant",
          "ghost", "globe", "piano", "water", "light", "sound", "heart", "cloud", "field", "stone"
        ]
      },
      hard: {
        animals: [
          "crocodile", "chimpanzee", "porcupine", "armadillo", "orangutan", "hippopotamus", "salamander", "albatross", "platypus", "jellyfish",
          "woodpecker", "rattlesnake", "chimpanzee", "tarantula", "anaconda", "buffalo", "kangaroo", "hedgehog", "cockatoo", "narwhal"
        ],
        tech: [
          "javascript", "blockchain", "microchip", "motherboard", "algorithm", "processor", "transistor", "virtualization", "encryption", "neuralnet",
          "database", "compiler", "firewall", "framework", "interface", "protocol", "repository", "simulation", "bandwidth", "debugging"
        ],
        food: [
          "croissant", "artichoke", "sauerkraut", "guacamole", "lasagna", "raviolini", "blackberry", "macaroni", "zucchini", "hamburger",
          "pomegranate", "cauliflower", "cappuccino", "cantaloupe", "cinnamon", "eggplant", "fettuccine", "mozzarella", "pineapple", "truffle"
        ],
        random: [
          "philosopher", "subterranean", "jurisdiction", "infrastructure", "consciousness", "transcendental", "manipulation", "configuration", "hypothetical", "distinction",
          "conglomerate", "entrepreneur", "metamorphosis", "contradiction", "phenomenon", "circumstance", "representation", "revolutionary", "approximation", "interpretation"
        ]
      }
    };

    let currentWord = "";
    let scrambledWord = "";
    let category = "animals";
    let difficulty = "easy";
    let timer;
    let timeLeft = 15;
    let attempts = 3;
    let score = 0;

    function scramble(word) {
      let shuffled;
      do {
        shuffled = word.split('').sort(() => 0.5 - Math.random()).join('');
      } while (shuffled === word);
      return shuffled;
    }

    function setCategory(cat) {
      category = cat;
      startNewWord();
    }

    function setDifficulty(level) {
      difficulty = level;
      startNewWord();
    }

    function startNewWord() {
      clearInterval(timer);
      const wordList = wordPools[difficulty][category];
      currentWord = wordList[Math.floor(Math.random() * wordList.length)];
      scrambledWord = scramble(currentWord);
      document.getElementById("scrambled").textContent = scrambledWord;
      document.getElementById("legend").style.display = "none";
      document.getElementById("feedback").textContent = "";
      document.getElementById("guess").value = "";
      attempts = 3;
      document.getElementById("attempts").textContent = "Attempts left: " + attempts;
      startTimer();
    }

    function startTimer() {
      let time = 15;
      document.getElementById("timer").textContent = "Time: " + time;
      timer = setInterval(() => {
        time--;
        document.getElementById("timer").textContent = "Time: " + time;
        if (time <= 0) {
          clearInterval(timer);
          playSound("timeout");
          document.getElementById("feedback").textContent = "‚è∞ Time's up! Word was: " + currentWord;
          setTimeout(startNewWord, 2000);
        }
      }, 1000);
    }

    function checkGuess() {
      const guess = document.getElementById("guess").value.toLowerCase().trim();
      if (guess === currentWord.toLowerCase()) {
        clearInterval(timer);
        score++;
        document.getElementById("score").textContent = "Score: " + score + " ‚≠ê";
        playSound("correct");
        document.getElementById("feedback").textContent = "‚úÖ Correct!";
        setTimeout(startNewWord, 1500);
      } else {
        attempts--;
        document.getElementById("attempts").textContent = "Attempts left: " + attempts;
        playSound("wrong");
        if (attempts <= 0) {
          clearInterval(timer);
          document.getElementById("feedback").textContent = "‚ùå Out of attempts! Word was: " + currentWord;
          setTimeout(startNewWord, 2000);
        } else {
          document.getElementById("feedback").textContent = "‚ùå Try again!";
        }
      }
    }

    function showSolution() {
      clearInterval(timer);
      document.getElementById("feedback").textContent = "üí° Solution: " + currentWord;
      setTimeout(startNewWord, 2000);
    }

    function showHint() {
      document.getElementById("scrambled").innerHTML = highlightHint(scrambledWord, currentWord);
      document.getElementById("legend").style.display = "block";
    }

    function highlightHint(scrambled, original) {
      const first = original.charAt(0);
      const last = original.charAt(original.length - 1);
      return scrambled
        .split('')
        .map(c => (c === first || c === last ? `<span class='text-pink-400 font-bold'>${c}</span>` : c))
        .join('');
    }

    function playSound(type) {
      const sounds = {
        correct: document.getElementById("correctSound"),
        wrong: document.getElementById("wrongSound"),
        timeout: document.getElementById("timeoutSound")
      };
      if (sounds[type]) sounds[type].play();
    }

    window.onload = () => {
      setDifficulty("easy");
    };
  </script>
</body>
</html>
